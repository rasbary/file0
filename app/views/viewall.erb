<div class="table-responsive">
  <table class="table table-bordered">
    <tr>
      <th>Filename</th>
      <th>Size</th>
      <th>Preview</th>
      <th>TTL</th>
    </tr>
  <%
      File0::File.all.sort_by{|hsh| File0::File.ttl(hsh['filename'])}.reverse.each do |file|
  %>
    <% next unless file['gallery'] %>
    <tr>
      <td><a href="/<%= file['filename']%>"> <%= file['filename'] %></a></td>
      <td> <%= Filesize.from(File0::File.size(file["filename"]).to_s + " B").pretty %> </td>
      <td>
        <% if file['thumbnail'] %>
          <a href="/<%=file['filename'] %>">
            <img src="data:<%=file['filetype'] + ';base64, ' + file['thumbnail']%>" />
          </a>
        <% else %>
          No Preview
        <% end %>
        <% if File0::File.audio?(file['filetype']) %>
          <audio controls>
            <source src="<%= file['filename'] %>" type="<%= file['filetype'] %>" />
          </audio>
        <% end %>
    </td>
      <td> <%= Time.now + File0::File.ttl(file["filename"]) %></td>
    </tr>
  <%
    end
  %>
  </table>
</div>
